#!/usr/bin/env bash
#
# @LICENSE  Apache-2.0
# @AUTHOR   Hasnae R.
# @VERSION  1.0.0
# 
source selfedit.sh

ATLAS_SOURCES=~/sources/ATLAS

#########
# SOURCES
#########

conf() {
  cd ${ATLAS_SOURCES}/confluence-server
}

########
# MAVEN
########

# @COMMAND build          runs atlas-mvn build
build() {
  atlas-mvn -e -T 0.75C clean install -DskipTests=true
}

pi() {
  product=$(_default $1 confluence)
  port=$(_default $2 8080)
  mvn -e ${product}:install -Dhttp.port=${port}
}

eval $@

if [[ -z ${1} ]];
then
  cd ${ATLAS_SOURCES}
fi
